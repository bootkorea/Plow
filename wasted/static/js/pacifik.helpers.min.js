!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("../core")):"function"==typeof define&&define.amd?define(["exports","../core"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Pacifik=e.Pacifik||{},e.Pacifik.helpers={}),e.Pacifik)}(this,function(e,t){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=o(t),r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},a=Object.prototype.hasOwnProperty;function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}var f={stringify:function(e,t){var o,n,r=[];for(n in"string"!=typeof(t=t||"")&&(t="?"),e)a.call(e,n)&&((o=e[n])||null!=o&&!isNaN(o)||(o=""),n=i(n),o=i(o),null!==n&&null!==o&&r.push(n+"="+o));return r.length?t+r.join("&"):""},parse:function(e){for(var t=/([^=?#&]+)=?([^&]*)/g,o={};r=t.exec(e);){var n=s(r[1]),r=s(r[2]);null===n||null===r||n in o||(o[n]=r)}return o}},u=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,n=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,c=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function d(e){return(e||"").toString().replace(c,"")}var m=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function g(e){var t,o="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{},o=o.location||{},n={},o=typeof(e=e||o);if("blob:"===e.protocol)n=new y(unescape(e.pathname),{});else if("string"==o)for(t in n=new y(e,{}),p)delete n[t];else if("object"==o){for(t in e)t in p||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=u.test(e.href))}return n}function v(e){e=d(e);e=n.exec(e);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!(e[2]&&2<=e[2].length),rest:e[2]&&1===e[2].length?"/"+e[3]:e[3]}}function y(e,t,o){if(e=d(e),!(this instanceof y))return new y(e,t,o);var n,r,a,s,i,l=m.slice(),u=typeof t,c=this,p=0;for("object"!=u&&"string"!=u&&(o=t,t=null),o&&"function"!=typeof o&&(o=f.parse),t=g(t),n=!(u=v(e||"")).protocol&&!u.slashes,c.slashes=u.slashes||n&&t.slashes,c.protocol=u.protocol||t.protocol||"",e=u.rest,u.slashes||(l[3]=[/(.*)/,"pathname"]);p<l.length;p++)"function"!=typeof(a=l[p])?(r=a[0],i=a[1],r!=r?c[i]=e:"string"==typeof r?~(s=e.indexOf(r))&&(e="number"==typeof a[2]?(c[i]=e.slice(0,s),e.slice(s+a[2])):(c[i]=e.slice(s),e.slice(0,s))):(s=r.exec(e))&&(c[i]=s[1],e=e.slice(0,s.index)),c[i]=c[i]||n&&a[3]&&t[i]||"",a[4]&&(c[i]=c[i].toLowerCase())):e=a(e);o&&(c.query=o(c.query)),n&&t.slashes&&"/"!==c.pathname.charAt(0)&&(""!==c.pathname||""!==t.pathname)&&(c.pathname=function(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=o.length,e=o[n-1],r=!1,a=0;n--;)"."===o[n]?o.splice(n,1):".."===o[n]?(o.splice(n,1),a++):a&&(0===n&&(r=!0),o.splice(n,1),a--);return r&&o.unshift(""),"."!==e&&".."!==e||o.push(""),o.join("/")}(c.pathname,t.pathname)),"/"!==c.pathname.charAt(0)&&c.hostname&&(c.pathname="/"+c.pathname),h(c.port,c.protocol)||(c.host=c.hostname,c.port=""),c.username=c.password="",c.auth&&(a=c.auth.split(":"),c.username=a[0]||"",c.password=a[1]||""),c.origin=c.protocol&&c.host&&"file:"!==c.protocol?c.protocol+"//"+c.host:"null",c.href=c.toString()}y.prototype={set:function(e,t,o){var n,r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||f.parse)(t)),r[e]=t;break;case"port":r[e]=t,h(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!o;break;case"pathname":case"hash":t?(n="pathname"===e?"/":"#",r[e]=t.charAt(0)!==n?n+t:t):r[e]=t;break;default:r[e]=t}for(var a=0;a<m.length;a++){var s=m[a];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=f.stringify);var t=this,o=t.protocol;return o&&":"!==o.charAt(o.length-1)&&(o+=":"),o+=t.slashes?"//":"",t.username&&(o+=t.username,t.password&&(o+=":"+t.password),o+="@"),o+=t.host+t.pathname,(e="object"==typeof t.query?e(t.query):t.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(o+=t.hash),o}},y.extractProtocol=v,y.location=g,y.trimLeft=d,y.qs=f;var w=y;e.cdnImageUrl=function(e,t){var o=(null===(o=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.root)||void 0===o?void 0:o.intl)||l.default;return(e=new w(e,"example.com")).hostname||(e.set("hostname",t.data["image.cdn"]||"img1a.coupangcdn.com"),e.set("slashes",!0),/^\//.test(e.pathname)||e.set("pathname","/"+e.pathname),/^\/image/.test(e.pathname)||e.set("pathname","/image"+e.pathname)),o.cdnImageUrl(e.toString())},e.formatMessage=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var n=t.pop(),r=(null===(r=null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.root)||void 0===r?void 0:r.intl)||l.default,n=null==n?void 0:n.hash.default,a={},s=0;s<t.length;s++){var i=t[s];a[s]="function"==typeof i?i():i,Array.isArray(a[s])&&(a[s]=a[s].join(" "))}return r.formatMessage(e,n,Object.assign({},a))},e.formatPrice=function(e){for(var t,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var r=o.pop();return((null===(t=null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.root)||void 0===t?void 0:t.intl)||l.default).formatPrice(e,null==r?void 0:r.hash)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=pacifik.helpers.min.js.map
